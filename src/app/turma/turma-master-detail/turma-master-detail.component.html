<h1 class="text-center custom-header">Turmas</h1>

<button mat-raised-button color="primary" class="my-3" (click)="openCardToCreate()">NOVA TURMA</button>
<table mat-table [dataSource]="dataSource" class="custom-table mat-elevation-z8">
    <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let turma"> {{ turma.id }} </td>
    </ng-container>

    <ng-container matColumnDef="nomeDoProfessor">
        <th mat-header-cell *matHeaderCellDef> Nome do Professor </th>
        <td mat-cell *matCellDef="let turma"> {{ turma.nomeDoProfessor }} </td>
    </ng-container>

    <ng-container matColumnDef="serie">
        <th mat-header-cell *matHeaderCellDef> Série </th>
        <td mat-cell *matCellDef="let turma"> {{ turma.serie }}ª </td>
    </ng-container>

    <ng-container matColumnDef="titulo">
        <th mat-header-cell *matHeaderCellDef> Título </th>
        <td mat-cell *matCellDef="let turma"> {{ turma.titulo }} </td>
    </ng-container>

    <ng-container matColumnDef="quantidadeDeAlunos">
        <th mat-header-cell *matHeaderCellDef> Quantidade de Alunos </th>
        <td mat-cell *matCellDef="let turma"> {{ turma.quantidadeDeAlunos }} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr class="element-mat-row" mat-row *matRowDef="let row; columns: displayedColumns;" (click)="rowClicked(row)"></tr>
</table>

<mat-card *ngIf="isLoading" style="display: flex; justify-content: center; align-items: center">
    <mat-progress-spinner 
      color="primary" 
      mode="indeterminate">
    </mat-progress-spinner>
  </mat-card>

<app-turma-detail *ngIf="enableTurmaCard" [(turma)]="turmaTwoWayBindedParent" (emitter)="loadTurmasFromApi()"></app-turma-detail>